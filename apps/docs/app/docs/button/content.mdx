import { Card, Flex, Text, Heading, Grid, Badge, Box, Section, Separator, Image, Button, Table, Code, Callout, IconButton, Theme } from '@kushagradhawan/kookie-ui';
import { Play, Code as CodeIcon, Users, BookOpen, Ruler, History, Gamepad, ChevronDown, Dot, Check, ChevronRight, Accessibility } from 'lucide-react';
import { CodeBlock } from '../../components/code-block';
import ButtonPlayground from '../../playground/ButtonPlayground';

<Section size="1">

# Button

Use buttons to trigger actions throughout your interface. Buttons are promises of what happens next—design them to build user confidence and guide decision-making naturally.

<Box mt="8">
  <ButtonPlayground />
</Box>

</Section>

<Section size="1">

## Props

<CodeBlock buttonsPosition="center">

```tsx
import { Button } from '@kushagradhawan/kookie-ui';
```
</CodeBlock>

<Box>
  <Table.Root mt="6" my="6" size="2" variant="ghost" layout="fixed">
    <colgroup>
      <col style={{ width: '35%' }} />
      <col />
    </colgroup>
    <Table.Header>
      <Table.Row>
        <Table.ColumnHeaderCell weight="medium">Prop</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell weight="medium">Type</Table.ColumnHeaderCell>
      </Table.Row>
    </Table.Header>
    <Table.Body>
      <Table.Row>
        <Table.RowHeaderCell>`variant`</Table.RowHeaderCell>
        <Table.Cell>`'classic' | 'solid' | 'soft' | 'surface' | 'outline' | 'ghost'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`size`</Table.RowHeaderCell>
        <Table.Cell>`'1' | '2' | '3' | '4'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`color`</Table.RowHeaderCell>
        <Table.Cell>`AccentColor`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`highContrast`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`fullWidth`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`flush`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`radius`</Table.RowHeaderCell>
        <Table.Cell>`'none' | 'small' | 'medium' | 'large' | 'full'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`material`</Table.RowHeaderCell>
        <Table.Cell>`'solid' | 'translucent'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`panelBackground`</Table.RowHeaderCell>
        <Table.Cell>`'solid' | 'translucent'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`loading`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`disabled`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`as`</Table.RowHeaderCell>
        <Table.Cell>`ElementType`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`asChild`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
    </Table.Body>
  </Table.Root>
</Box>

Button supports customizable tooltip props for content, position, timing, and behavior.

</Section>

<Section size="1">

## Variants

Use the `variant` prop to set button style. Suggested conventions: `solid` for primary, `outline` for secondary, `ghost` for utility, `classic` for elevated, and `soft`/`surface` for content-heavy UIs. Variants are visual only—choose what fits your context. Visual hierarchy is flexible.

### Classic

Elevated style with subtle shadow for maximum visual impact and primary actions.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Button size="3" variant="classic">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="classic">Button</Button>
```

</CodeBlock>

### Solid

Filled background for primary actions and important CTAs.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Button size="3" variant="solid">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="solid">Button</Button>
```

</CodeBlock>

### Soft

Subtle background for secondary actions and content-heavy interfaces.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Button size="3" variant="soft">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="soft">Button</Button>
```

</CodeBlock>

### Outline

Bordered style for secondary actions and form controls.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Button size="3" variant="outline">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="outline">Button</Button>
```

</CodeBlock>

### Surface

Elevated surface for content-heavy UIs and card-based layouts.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Button size="3" variant="surface">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="surface">Button</Button>
```

</CodeBlock>

### Ghost

Minimal style for utility actions and inline text integration.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Button size="3" variant="ghost">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="ghost">Button</Button>
```

</CodeBlock>

</Section>

<Section size="1">

## Sizes

Set `size` for button density: `1` (24px), `2` (32px), `3` (40px), `4` (48px). Use `3` or `4` for mobile. Supports responsive: `{ initial: '1', sm: '2', md: '3', lg: '4' }`.

### Size 1

For toolbars and dense interfaces.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" align="center" wrap="wrap">
      <Button variant="solid" size="1">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="1">Button</Button>
```

</CodeBlock>

### Size 2

For standard interface contexts.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" align="center" wrap="wrap">
      <Button variant="solid" size="2">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="2">Button</Button>
```

</CodeBlock>

### Size 3

For important actions and mobile touch targets.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" align="center" wrap="wrap">
      <Button variant="solid" size="3">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3">Button</Button>
```

</CodeBlock>

### Size 4

For hero sections and maximum impact.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" align="center" wrap="wrap">
      <Button variant="solid" size="4">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="4">Button</Button>
```

</CodeBlock>

</Section>

<Section size="1">

## Colors

Use the `color` prop with semantic colors to communicate the action's intent to users. Use `highContrast` for maximum visibility, especially on complex or translucent backgrounds.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button size="3" color="crimson" variant="solid">Button</Button>
      <Button size="3" color="crimson" variant="solid" highContrast>Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" color="crimson" variant="solid">Button</Button>
<Button size="3" color="crimson" variant="solid" highContrast>Button</Button>
```

</CodeBlock>

</Section>



<Section size="1">

## Material

Use the `material` prop to set button appearance. Choose `solid` for opaque backgrounds, or `translucent` for depth and separation over images or dynamic backgrounds.

Avoid `outline` and `ghost` variants with translucent material, as they may lack contrast.

### Theme

Buttons automatically inherit the theme's material setting. Wrap your interface in a `Theme` component to control material globally:

<CodeBlock
  background="https://images.unsplash.com/photo-1677504210210-b9259daf154f?q=80&w=2728&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
  backgroundProps={{
    height: "100%",
    width: "100%",
    radius: "3"
  }}
  preview={
    <Theme material="translucent">
      <Flex gap="2" align="center" wrap="wrap">
        <Button size="3" color="gray" highContrast variant="soft">Button</Button>
      </Flex>
    </Theme>
  }
>

```tsx
<Theme material="translucent">
  <Button size="3" color="gray" highContrast variant="soft">Button</Button>
</Theme>
```

</CodeBlock>

### Custom

Override the theme's material for a button when you need a specific effect. Translucent effects only show over backgrounds—use `highContrast` for readability.

<CodeBlock
  background="https://images.unsplash.com/photo-1677504210210-b9259daf154f?q=80&w=2728&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
  backgroundProps={{
    height: "100%",
    width: "100%",
    radius: "3"
  }}
  preview={
    <Flex gap="2" align="center" justify="center" wrap="wrap" width="100%">
      <Button size="3" color="gray" highContrast variant="soft" material="translucent">Button</Button>
    </Flex>
  }
>

```tsx
<Button size="3" color="gray" highContrast variant="soft" material="translucent">Button</Button>
```

</CodeBlock>

</Section>





<Section size="1">

## States

### Loading

Set `loading` to `true` to show a spinner and disable the button. No need to set `disabled` manually.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button size="3" color="gray" highContrast loading>Submitting...</Button>
    </Flex>
  }
>

```tsx
<Button size="3" color="gray" highContrast loading>Submitting...</Button>
```

</CodeBlock>

### Disabled

Set the `disabled` prop to `true` to prevent interaction when an action is unavailable, such as during form validation or when authentication is required.

Always give clear visual feedback for disabled buttons, like tooltips or nearby text.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button size="3" disabled tooltip="Please fill all required fields">Save</Button>
    </Flex>
  }
>

```tsx
<Button size="3" disabled tooltip="Please fill all required fields">Save</Button>
```

</CodeBlock>

### Interactive

Buttons handle focus for keyboard navigation. For complex patterns, use `data-state` for custom visuals.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button size="3" variant="classic" data-state="open">Open</Button>
      <Button size="3" variant="classic" data-state="on">On</Button>
    </Flex>
  }
>

```tsx
<Button size="3" variant="classic" data-state="open">Open</Button>
<Button size="3" variant="classic" data-state="on">On</Button>
```

</CodeBlock>

</Section>

<Section size="1">

## Layout

### Full Width

Set the `fullWidth` prop to `true` to make the button fill its container. This is useful for mobile layouts and form submissions.

<CodeBlock

  preview={
    <Flex direction="column" gap="2" width="300px">
      <Button size="3" fullWidth>Complete</Button>
    </Flex>
  }
>

```tsx
<Flex direction="column" gap="2" width="300px">
  <Button size="3" fullWidth>Complete</Button>
</Flex>
```

</CodeBlock>

### Flush

Use the `flush` prop with the `ghost` variant to remove padding, making the button blend with text while staying interactive.

<CodeBlock buttonsPosition="center"

  preview={
    <Flex direction="column" gap="3">
      <Flex gap="2" align="center"><Button size="3" variant="ghost" flush>Learn</Button> about us.</Flex>
    </Flex>
  }
>

```tsx
<Flex gap="2" align="center"><Button size="3" variant="ghost" flush>Learn</Button> about us.</Flex>
```

</CodeBlock>

</Section>

<Section size="1">

## Margin

Use margin props for spacing around buttons. All margin props are responsive and accept design tokens or CSS values.

</Section>

<Section size="1">

## Tooltips

Use the `tooltip` prop to add context to button actions, especially for icon buttons or unclear actions. Tooltips appear on hover and focus for accessibility. Always provide a tooltip for icon-only buttons.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button variant="soft" size="3" tooltip="Save your current progress">Button</Button>
    </Flex>
  }
>

```tsx
<Button variant="soft" size="3" tooltip="Save your current progress">Button</Button>
```

</CodeBlock>

</Section>


<Section size="1">

## Icons

Place icons directly inside buttons; they’ll be sized automatically based on the button’s size. For icon-only buttons, use the `IconButton` component for proper accessibility and touch targets.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button size="3"><Check />Save</Button>
    </Flex>
  }
>

```tsx
<Button size="3"><Check />Save</Button>
```

</CodeBlock>


<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <IconButton size="3" variant="soft" aria-label="More options"><ChevronDown /></IconButton>
    </Flex>
  }
>

```tsx
<IconButton size="3" variant="soft" aria-label="More options"><ChevronDown /></IconButton>
```

</CodeBlock>

</Section>





<Section size="1">

## Polymorphism

### As

Use the `as` prop to render buttons as different HTML elements while maintaining button styling. This is useful for navigation links, routing integration, or custom interactive elements that need button appearance.

<CodeBlock

  preview={
    <Flex gap="2" align="center" wrap="wrap">
      <Button size="3" as="a" href="/home">Go Home</Button>
    </Flex>
  }
>

```tsx
<Button size="3" as="a" href="/home">Go Home</Button>
```

</CodeBlock>

### AsChild

Use the `asChild` prop to merge button props with a child element using the Radix Slot pattern. This is ideal for composition with routing libraries like Next.js Link or React Router, as it applies button styling without creating an additional wrapper element.

<CodeBlock

  preview={
    <Flex gap="4" align="center">
      <Button size="3" asChild><a href="/dashboard">Go to Dashboard</a></Button>
    </Flex>
  }
>

```tsx
<Button size="3" asChild><a href="/dashboard">Go to Dashboard</a></Button>
```

</CodeBlock>

</Section>





<Section size="1">

## Responsive

Use responsive objects with the `size` prop to adapt button sizing across different breakpoints. The component uses a mobile-first approach where each breakpoint applies styles at its minimum width and above.

<CodeBlock

  preview={
      <Button size={{ initial: '1', sm: '2', md: '3' }}>Button</Button>
  }
>

```tsx
<Button size={{ initial: '1', sm: '2', md: '3' }}>Button</Button>
```

</CodeBlock>

</Section>

<Section size="1">

## Form

Use standard HTML form attributes to integrate buttons with forms. The component supports all form attributes for comprehensive form integration, including loading states for async operations and validation-based disabled states.

<CodeBlock

  preview={
    <Flex gap="2" align="center">
      <Button type="submit" size="3">Submit</Button>
    </Flex>
  }
>

```tsx
<Button type="submit" size="3">Submit</Button>
```

</CodeBlock>

</Section>



<Section size="1">

## Accessibility

Kookie UI's Button extends Radix's accessibility foundation with enhanced loading states and built-in tooltip support.

### Enhanced Loading States

Loading states automatically apply comprehensive ARIA attributes:
- `aria-busy="true"` - announces processing state
- `aria-disabled="true"` - prevents interaction
- `aria-describedby` - links to loading announcement
- `aria-label` - dynamically includes "(loading)" status

Loading announcements include: "[Button text] is loading, please wait..."

</Section>

<Section size="1">

## Changelog

### Added
- Enhanced loading state accessibility with `aria-busy`, `aria-disabled`, and `aria-describedby` attributes
- Built-in tooltip support through `tooltip`, `tooltipSide`, `tooltipAlign` props
- New `material` prop for solid/translucent theme contexts
- `flush` prop for seamless text integration with ghost variants
- Full margin prop system with responsive support
- Enhanced form integration with complete HTML form attribute support
- **RTL (Right-to-Left) layout support** for international applications
- **Windows High Contrast mode support** via `forced-colors` media query
- **Enhanced reduced motion support** for users with vestibular disorders
- **Improved loading state announcements** with contextual button text
- **Tooltip accessibility integration** with proper `aria-describedby` associations

### Changed
- Improved 3D shadow system for classic variant with better depth perception
- Enhanced active state feedback with subtle padding adjustments
- Better contrast relationships in both light and dark themes
- Comprehensive transition token system with duration and easing tokens
- Automatic reduced motion support via `prefers-reduced-motion`

### Deprecated
- `panelBackground` prop in favor of `material` prop

### Fixed
- Better color saturation and brightness in high contrast mode
- Enhanced focus indicators for improved accessibility
- Consistent contrast ratios across all variants and states
- Full TypeScript support for polymorphic `as` prop with better type inference
- **Loading state accessibility** with proper button text context in announcements
- **Focus management** with enhanced forced-colors support for Windows High Contrast
- **Spinner animations** now respect `prefers-reduced-motion` user preference
- **Tooltip associations** properly linked to buttons via unique IDs

</Section>

<Text size="1" color="gray">The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).</Text>
