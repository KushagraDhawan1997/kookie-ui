import { Card, Flex, Text, Heading, Grid, Badge, Box, Section, Separator, Image, Callout } from '@kushagradhawan/kookie-ui';
import Link from 'next/link';
import { Play, Code, Users, BookOpen, Ruler, History, MessageSquare } from 'lucide-react';

<Section size="1">

# Chatbar

The Chatbar component is a multi-line text input designed for chat interfaces with built-in attachment support, auto-resizing behavior, and comprehensive file handling capabilities. It provides a complete solution for building modern messaging interfaces with drag-and-drop file uploads, paste-to-attach functionality, and responsive design.

</Section>

<Grid columns={{ initial: '1', sm: '2' }} gap="2" my="6">
  {[
    {
      href: 'chatbar/playground',
      title: 'Playground',
      description: 'Interactive component explorer with live examples and customization',
      icon: Play,
      image: '/playground.png',
    },
    {
      href: 'chatbar/api',
      title: 'API',
      description: 'Props, accessibility, keyboard navigation, and technical implementation',
      icon: Code,
      image: '/keyboard.png',
    }
  ].map(({ href, title, description, icon: Icon, image }) => (
    <Card asChild key={href} size="2" variant="soft">
      <Link href={href}>
        <Flex direction="row" align="center" gap="4">


          {/*
          <Flex align="center" justify="center" style={{ width: 96, height: 96, flex: '0 0 96px' }}>
            <Image src={image} alt="" width={96} height={96} fit="cover" />
          </Flex>
          */}
          
          <Flex direction="column" gap="2" p="2">
            <Flex align="center" gap="2">
              <Icon size={16} />
              <Heading size="3" weight="medium">{title}</Heading>
            </Flex>
            <Text size="2" color="gray">{description}</Text>
          </Flex>
        </Flex>
      </Link>
    </Card>

))}

</Grid>

<Section size="1">

## [Unreleased]

### Added
- Complete Chatbar component implementation with multi-line text input
- Built-in attachment support with drag-and-drop and paste-to-attach functionality
- Auto-resizing behavior with configurable min/max lines
- Comprehensive file validation and rejection handling
- Image preview support for attached files
- Multiple expansion modes: none, focus, overflow, both
- Send mode configuration: always, whenDirty, never
- Controlled and uncontrolled state management for value and attachments
- Imperative API for programmatic control
- Full accessibility support with ARIA attributes
- RTL (Right-to-Left) layout support for international applications
- Windows High Contrast mode support via `forced-colors` media query
- Enhanced reduced motion support for users with vestibular disorders

### Technical
- Built on modern React patterns with context-based state management
- Comprehensive TypeScript types for all configurations
- File validation with MIME type and extension support
- Object URL management with automatic cleanup
- Responsive design with breakpoint support
- Integration with react-dropzone for drag-and-drop functionality

</Section>

<Section size="1">

## [0.1.41] - 2024-01-15

### Added
- Initial beta release of Chatbar component
- `Chatbar.Root` - Main container with state management and file handling
- `Chatbar.Textarea` - Multi-line text input with auto-resizing
- `Chatbar.AttachmentsRow` - Horizontal scrollable list of attachments
- `Chatbar.Attachment` - Individual attachment display with preview
- `Chatbar.AttachTrigger` - File picker button with validation
- `Chatbar.Row` - Expanded state layout container
- `Chatbar.RowStart` / `Chatbar.RowEnd` - Layout slots for expanded state
- `Chatbar.InlineStart` / `Chatbar.InlineEnd` - Layout slots for compact state
- `Chatbar.Send` - Send button with conditional visibility
- File type validation with accept patterns
- Size and count limits for attachments
- Paste-to-attach functionality
- Drag-and-drop file uploads
- Image preview generation for visual files

### Technical
- Context splitting for optimal performance
- TypeScript support with comprehensive type definitions
- Design token integration for consistent spacing and sizing
- CSS custom properties for theming
- File handling with proper cleanup and memory management

</Section>

<Text size="1" color="gray">The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).</Text>